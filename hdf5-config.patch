--- hdf5-1.6.0/config/commence.in.orig	2003-07-03 19:23:35.000000000 +0200
+++ hdf5-1.6.0/config/commence.in	2003-07-19 14:00:59.000000000 +0200
@@ -51,7 +51,7 @@
 LT_LINK_EXE=$(LT) --mode=link $(CC) $(LT_STATIC_EXEC) -dlopen self -rpath $(libdir) $(DYNAMIC_DIRS)
 LT_RUN=$(LT) --mode=execute
 LT_INSTALL_PROG=$(LT) --mode=install $(INSTALL_PROGRAM)
-LT_INSTALL_LIB=$(LT) --mode=install $(INSTALL_DATA)
+LT_INSTALL_LIB=$(LT) --mode=install $(INSTALL_PROGRAM)
 LT_UNINSTALL=$(LT) --mode=uninstall $(RM)
 
 ## Optional variables. We must declare them here because Irix pmake
--- hdf5-1.6.0/c++/config/commence.in.orig	2003-06-30 17:19:35.000000000 +0200
+++ hdf5-1.6.0/c++/config/commence.in	2003-07-19 14:01:16.000000000 +0200
@@ -50,11 +50,11 @@
 DYNAMIC_DIRS=@DYNAMIC_DIRS@
 LT=$(top_builddir)/libtool
 LT_COMPILE=$(LT) --mode=compile $(CXX)
-LT_LINK_LIB=$(LT) --mode=link $(CXX) -static -rpath $(libdir) $(DYNAMIC_DIRS)
-LT_LINK_EXE=$(LT) --mode=link $(CXX) -static $(LT_STATIC_EXEC) -dlopen self -rpath $(bindir) $(DYNAMIC_DIRS)
+LT_LINK_LIB=$(LT) --mode=link $(CXX) -rpath $(libdir) $(DYNAMIC_DIRS)
+LT_LINK_EXE=$(LT) --mode=link $(CXX) $(LT_STATIC_EXEC) -dlopen self -rpath $(bindir) $(DYNAMIC_DIRS)
 LT_RUN=$(LT) --mode=execute
 LT_INSTALL_PROG=$(LT) --mode=install $(INSTALL_PROGRAM)
-LT_INSTALL_LIB=$(LT) --mode=install $(INSTALL_DATA)
+LT_INSTALL_LIB=$(LT) --mode=install $(INSTALL_PROGRAM)
 LT_UNINSTALL=$(LT) --mode=uninstall $(RM)
 
 ## Optional variables. We must declare them here because Irix pmake
--- hdf5-1.6.5/config/gnu-flags.orig	2005-10-28 22:15:26.000000000 +0200
+++ hdf5-1.6.5/config/gnu-flags	2005-11-15 18:20:35.303439288 +0100
@@ -107,26 +107,6 @@
   gcc*|egcs*|pgcc*)
     # Architecture-specific flags
     arch=
-    case "$host_os-$host_cpu" in
-        # FreeBSD sets the information from "uname -m" to the general machine
-        # architecture, not the specific CPU for the machine, so even our
-        # Pentium II Xeon server is set to "i386".  Once we know we are on a FreeBSD
-        # machine, use the "sysctl" command to get the CPU hardware model.
-        freebsd*-i386)
-            host_cpu_model=`sysctl -n hw.model`
-            case "$host_cpu_model" in
-                # Hmm.. this might not catch Celerons, but it won't hurt them either...
-                *Pro*|*II*|*III*|*IV*|*Athlon*)
-                    arch="-march=i686"
-                ;;
-            esac
-            ;;
-
-        *-i686)
-            arch="-march=i686"
-            ;;
-    esac
-
     # Host-specific flags
     case "`hostname`" in
         sleipnir.ncsa.uiuc.edu)
@@ -140,7 +120,6 @@
     # Production
     case "$cc_vendor-$cc_version" in
       gcc-2.95.[34])
-        PROD_CFLAGS="-O3"
         ;;
       gcc-3.[0-4]*|gcc-4.[01]*)
         # The optimization level is reduced for gcc 3.* and 4.* due to problems
@@ -148,14 +127,11 @@
         # optimization levels (which shows up as failures for various integer
         # types -> long long conversions in the test/dtypes test).  Perhaps
         # later versions of gcc will fix this bug... - QAK - 2003/10/20
-        PROD_CFLAGS="-O"
         ;;
       gcc-4*)
         # Be optimistic about future versions of gcc.. :-) - QAK - 2003/10/20
-        PROD_CFLAGS="-O3"
         ;;
       *)
-        PROD_CFLAGS="-O"
         ;;
     esac
 
@@ -192,7 +168,7 @@
     CFLAGS="$CFLAGS -Wno-long-long"
 
     # Append warning flags from gcc-3* case
-    DEBUG_CFLAGS="$DEBUG_CFLAGS -Wfloat-equal -Wmissing-format-attribute -Wpadded"
+    DEBUG_CFLAGS="$DEBUG_CFLAGS -Wfloat-equal -Wmissing-format-attribute"
 
     # Append warning flags from gcc-3.2* case
     DEBUG_CFLAGS="$DEBUG_CFLAGS -Wmissing-noreturn -Wpacked -Wdisabled-optimization -Wmultichar"
@@ -225,7 +201,7 @@
     CFLAGS="$CFLAGS -Wno-long-long"
 
     # Append warning flags from gcc-3* case
-    DEBUG_CFLAGS="$DEBUG_CFLAGS -Wfloat-equal -Wmissing-format-attribute -Wpadded"
+    DEBUG_CFLAGS="$DEBUG_CFLAGS -Wfloat-equal -Wmissing-format-attribute"
 
     # Append warning flags from gcc-3.2* case
     DEBUG_CFLAGS="$DEBUG_CFLAGS -Wmissing-noreturn -Wpacked -Wdisabled-optimization -Wmultichar"
@@ -255,7 +231,7 @@
     CFLAGS="$CFLAGS -Wno-long-long"
 
     # Append warning flags from gcc-3* case
-    DEBUG_CFLAGS="$DEBUG_CFLAGS -Wfloat-equal -Wmissing-format-attribute -Wpadded"
+    DEBUG_CFLAGS="$DEBUG_CFLAGS -Wfloat-equal -Wmissing-format-attribute"
 
     # Append warning flags from gcc-3.2* case
     DEBUG_CFLAGS="$DEBUG_CFLAGS -Wmissing-noreturn -Wpacked -Wdisabled-optimization -Wmultichar"
@@ -279,7 +255,7 @@
     CFLAGS="$CFLAGS -Wno-long-long"
 
     # Append warning flags from gcc-3* case
-    DEBUG_CFLAGS="$DEBUG_CFLAGS -Wfloat-equal -Wmissing-format-attribute -Wpadded"
+    DEBUG_CFLAGS="$DEBUG_CFLAGS -Wfloat-equal -Wmissing-format-attribute"
 
     # Append more extra warning flags that only gcc3.2+ know about
     DEBUG_CFLAGS="$DEBUG_CFLAGS -Wmissing-noreturn -Wpacked -Wdisabled-optimization -Wmultichar"
@@ -300,7 +276,7 @@
     CFLAGS="$CFLAGS -Wno-long-long"
 
     # Append some extra warning flags that only gcc3+ know about
-    DEBUG_CFLAGS="$DEBUG_CFLAGS -Wfloat-equal -Wmissing-format-attribute -Wpadded"
+    DEBUG_CFLAGS="$DEBUG_CFLAGS -Wfloat-equal -Wmissing-format-attribute"
     ;;
 
   gcc-2.9[56]*)
