--- hdf5-1.8.5-patch1/configure.in.orig	2010-08-26 16:27:23.000000000 +0200
+++ hdf5-1.8.5-patch1/configure.in	2010-10-06 08:26:23.847742720 +0200
@@ -2086,10 +2086,15 @@
 AC_CHECK_FUNCS(alarm BSDgettimeofday fork frexpf frexpl)
 AC_CHECK_FUNCS(gethostname getpwuid getrusage lstat)
 AC_CHECK_FUNCS(rand_r random setsysinfo)
-AC_CHECK_FUNCS(signal longjmp setjmp siglongjmp sigsetjmp sigprocmask)
+AC_CHECK_FUNCS(signal longjmp setjmp siglongjmp sigprocmask)
 AC_CHECK_FUNCS(snprintf srandom strdup symlink system)
 AC_CHECK_FUNCS(tmpfile vasprintf waitpid)
 
+dnl cannot be detected in glibc by plain AC_CHECK_FUNCS
+AH_TEMPLATE([HAVE_SIGSETJMP], [Have sigsetjmp function])
+AC_CHECK_FUNC([sigsetjmp], [AC_DEFINE([HAVE_SIGSETJMP])],
+	[AC_CHECK_FUNC([__sigsetjmp], [AC_DEFINE([HAVE_SIGSETJMP])])])
+
 dnl Check for vsnprintf() separately, so we can detect situations where it
 dnl doesn't return the correct size for formatted strings that are too large
 dnl for the buffer provided
